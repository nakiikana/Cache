# LRU Cache

Реализация кэша с использованием алгоритма **LRU (Least Recently Used)**. Кэш позволяет хранить пары ключ-значение с возможностью автоматического удаления элементов по таймеру (TTL). Основные особенности: 

- фиксированная емкость кэша с автоматическии удалением "устаревшего" значения
- потокобезопасность за счет использования мьютексов
- отслеживание сроков работы элементов с указанием частоты проверки 

## Использование

### Создание кэша

Создайте новый LRU-кэш, указав размер и частоту проверки устаревших элементов:

```go
cache := NewLRUCache(3, time.Second*1)
```
### Пример использования

```go

func main() {
	// Создаем новый LRU-кэш с емкостью 3 и частотой проверки устаревших элементов в 1 секунду
	cache := NewLRUCache(3, time.Second*1)

	// Добавляем элементы в кэш
	cache.Add("key1", "value1")
	cache.Add("key2", "value2")
	cache.Add("key3", "value3")

	// Получаем элемент из кэша
	value, ok := cache.Get("key1")
	if ok {
		fmt.Println("Значение key1:", value)
	} else {
		fmt.Println("Ключ key1 не найден или истек")
	}

	// Добавляем новый элемент, что приведет к удалению самого старого элемента (key2) - помним, что положение (key1) обновилось
	cache.Add("key4", "value4")

	// Проверяем наличие старых элементов
	if _, ok := cache.Get("key2"); !ok {
		fmt.Println("Ключ key2 был удален, так как кэш был заполнен")
	}

	// Добавляем элемент с TTL (временем жизни)
	cache.AddWithTTL("key5", "value5", time.Second*2)

	// Ожидаем истечения времени жизни key5
	time.Sleep(3 * time.Second)

	if _, ok := cache.Get("key5"); !ok {
		fmt.Println("Ключ key5 истек и был удален")
	}

	// Удаляем элемент вручную
	cache.Remove("key1")

	if _, ok := cache.Get("key1"); !ok {
		fmt.Println("Ключ key1 был удален вручную")
	}

	// Проверяем размер и емкость кэша
	fmt.Println("Текущий размер кэша:", cache.Len())
	fmt.Println("Емкость кэша:", cache.Cap())

	// Очистка кэша
	cache.Clear()
	fmt.Println("Размер кэша после очистки:", cache.Len())

	// Завершаем работу с кэшем (останавливаем проверку устаревших элементов)
	cache.finishWork()
}
```

## Запуск тестов

```bash
go test ./...
```